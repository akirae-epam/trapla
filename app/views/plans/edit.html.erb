<% provide(:title, "プランの編集") %>
<%= render 'plans/plan_form', plan_form_button: 'プラン概要を変更する' %>
<%# アクティビティがあれば表示 %>
<% if @plan_details %>
  <%= render 'plan_details/plan_details' %>
<% end %>
<script type="text/javascript">
// 共有するJavaScriptは/app/assets/javascripts/application.jsに記載
  $(function() {
    //１アクティビティにマウスを載せたら編集メニューを表示
    $('.plan_detail').mouseover(function(){
      $(this).css('background-color', '#E0FFFF');
      $(this).children('.plan_detail_edit').show();
    })
    $('.plan_detail').mouseout(function(){
      $(this).css('background-color', '');
      $(this).children('.plan_detail_edit').hide();
    })

    // フォーム表示
    lastFormId = ''
    $('.add_plan_detail_button').children('img').on('click', function(){
      if (lastFormId) {$(lastFormId).slideToggle('fast').empty();}
      $('.add_plan_detail').slideToggle('fast');
    })
  })

  jQuery.default(); // フォームの共通設定を読み込み
</script>
